{{ define "main" }}
<section id="portfolio" class="portfolio section">
    <div class="container section-title" data-aos="fade-up">
        <h2>{{ .Title }}</h2>
        <p>{{ .Params.description }}</p>
    </div>

    <div class="container" data-aos="fade-up" data-aos-delay="100">
        <div class="isotope-layout" data-default-filter="*" data-layout="masonry" data-sort="original-order">

            <ul class="portfolio-filters isotope-filters" data-aos="fade-up" data-aos-delay="200">
                <li data-filter="*" class="filter-active">All</li>
                {{ $categories := slice }}
                {{ range .Pages }}
                {{ range .Params.category }}
                {{ $categories = $categories | append . }}
                {{ end }}
                {{ end }}
                {{ $categories = $categories | uniq }}
                {{ range $categories }}
                <li data-filter=".filter-{{ . | urlize }}">{{ . }}</li>
                {{ end }}
            </ul>

            <div class="row gy-4 isotope-container" data-aos="fade-up" data-aos-delay="300">
                {{ range .Pages }}
                <div
                    class="col-lg-4 col-md-6 portfolio-item isotope-item {{ range .Params.category }}filter-{{ . | urlize }} {{ end }}">
                    <div class="portfolio-card">
                        <div class="portfolio-img">
                            <img src="{{ .Params.image | relURL }}" alt="{{ .Title }}" class="img-fluid">
                            <div class="portfolio-overlay">
                                <a href="{{ .Params.image | relURL }}" class="glightbox portfolio-lightbox"><i
                                        class="bi bi-plus"></i></a>
                                {{ if .Params.project_url }}
                                <a href="{{ .Params.project_url }}" class="portfolio-details-link" target="_blank"><i
                                        class="bi bi-link"></i></a>
                                {{ end }}
                            </div>
                        </div>
                        <div class="portfolio-info">
                            <h4>{{ .Title }}</h4>
                            <p>{{ .Params.description }}</p>
                            <div class="portfolio-tags">
                                {{ range .Params.category }}
                                <span>{{ . }}</span>
                                {{ end }}
                            </div>
                        </div>
                    </div>
                </div>
                {{ end }}
            </div>
        </div>
    </div>
</section>
{{ end }}